<?xml version="1.0" encoding="UTF-8"?>
<!--
Copyright (C) 2011 Jacob Beard
Released under GNU LGPL, read the file 'COPYING' for more information
-->
<!--
     This is another test that illustrates how possibly infinite loops may be created. Here, without the counter and the cond, the big-step would never complete.
     -->
<scxml 
	xmlns="http://www.w3.org/2005/07/scxml"
	version="1.0"
	profile="ecmascript"
	id="root">

	<initial id="intitial1">
		<transition target="a"/>
	</initial>

	<state id="a">
		<transition target="b" event="t">
			<assign location="i" expr="0"/>
		</transition>
	</state>

	<state id="A">

		<state id="b">
			<transition target="c" cond="getData('i') &lt; 100">
				<assign location="i" expr="getData('i') + 1"/>
			</transition>
		</state>

		<state id="c">
			<transition target="b" cond="getData('i') &lt; 100">
				<assign location="i" expr="getData('i') + 1"/>
			</transition>
		</state>

		<transition target="d" cond="getData('i') === 100">
			<assign location="i" expr="getData('i') * 2"/>
		</transition>
	</state>


	<state id="d">
		<transition target="e" cond="getData('i') === 200"/>
		<transition target="f"/>
	</state>

	<state id="e"/>

	<state id="f"/>

</scxml>

